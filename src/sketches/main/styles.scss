$orange: #E8A858;
$blue: #88C8F0;
$green: #BBDD37;
$gray: #888888;

.parent {
  width: 100%;
  max-width: 500px;
  overflow: hidden;
}

.square-sizer {
  padding-top: 100%;
  position: relative;
}

.inner {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  display: grid;
  grid-template: 1fr 1fr / 1fr 1fr;
}

.panel {
  position: relative;
  overflow: hidden;
}

.panel__inner {
  position: absolute;
  top: 0;
  left: 0;
  width: 200%;
  height: 200%;
  mix-blend-mode: screen;
}

.panel__inner img {
  width: 100%;
  filter: grayscale(1);
}


$colors: $orange, $blue, $gray, $green;
$colors: #FBF5E3, #FA4827, #FB9826, #276155;
$origins: top left, top right, bottom left, bottom right;
$offsets: (0, 0), (-100%, 0), (0, -100%), (-100%, -100%);
@for $i from 1 through 4 {
  .panel:nth-child(#{$i}) {
    background-color: nth($colors, $i);
  }
  .panel:nth-child(#{$i}),
  .panel:nth-child(#{$i}) .panel__inner {
    transform-origin: nth($origins, $i);
  }
  $offset : nth($offsets, $i);
  $left : nth($offset, 1);
  $top : nth($offset, 2);
  .panel:nth-child(#{$i}) .panel__inner {
    top: $top;
    left: $left;
  }
}

.is-resetting {
  .panel,
  .panel__inner {
    transition: transform ease-out 300ms;
  }
}

.panel:nth-child(1) .panel__inner {
  mix-blend-mode: multiply;
}